.TH "C:/Users/Nima/Documents/KL/kl_partition.cpp" 3 "Tue Dec 16 2025 05:05:30" "Kernighan Lin algorithm (KL)" \" -*- nroff -*-
.ad l
.nh
.SH NAME
C:/Users/Nima/Documents/KL/kl_partition.cpp
.SH SYNOPSIS
.br
.PP
\fR#include 'kl_partition\&.hpp'\fP
.br
\fR#include <QFile>\fP
.br
\fR#include <QMap>\fP
.br
\fR#include <QTextStream>\fP
.br
\fR#include <Qstring>\fP
.br

.SS "Functions"

.in +1c
.ti -1c
.RI "void \fBcluster_partition\fP (int p) noexcept"
.br
.RI "Performs clustering merge for a given partition\&. "
.ti -1c
.RI "double \fBcluster_variance\fP (const vector< int > &C) noexcept"
.br
.RI "Computes variance of a cluster\&. "
.ti -1c
.RI "int \fBcompute_cut\fP () noexcept"
.br
.RI "Computes the total cut for current partitions\&. "
.ti -1c
.RI "int \fBcompute_DV\fP (const vector< int > &C, int p) noexcept"
.br
.RI "Computes D(V) for a cluster\&. "
.ti -1c
.RI "void \fBinitial_partition\fP (QString filepath) noexcept"
.br
.RI "Initializes the partitions from a CSV adjacency matrix file\&. "
.ti -1c
.RI "int \fBkl_gain\fP (const vector< int > &A, const vector< int > &B) noexcept"
.br
.RI "Computes the KL gain of swapping two clusters\&. "
.ti -1c
.RI "void \fBkl_pass\fP () noexcept"
.br
.RI "Performs one pass of the Kernighan–Lin algorithm\&. "
.ti -1c
.RI "void \fBwrite_metrics\fP (const char *filename)"
.br
.RI "Writes final cut evolution and cluster variances to a file\&. "
.ti -1c
.RI "void \fBwrite_partition\fP (const char *filename)"
.br
.RI "Writes node-to-partition mapping to a file\&. "
.ti -1c
.RI "void \fBwrite_trace\fP (const char *filename)"
.br
.RI "Writes cut evolution per iteration to CSV\&. "
.in -1c
.SH "Function Documentation"
.PP 
.SS "void cluster_partition (int p)\fR [noexcept]\fP"

.PP
Performs clustering merge for a given partition\&. Performs clustering merge on a given partition\&.

.PP
Iteratively merges clusters if combined variance decreases\&.

.PP
\fBParameters\fP
.RS 4
\fIp\fP Partition index (0 or 1) 
.RE
.PP

.SS "double cluster_variance (const vector< int > & C)\fR [noexcept]\fP"

.PP
Computes variance of a cluster\&. Variance is calculated over all edge weights within the cluster\&.

.PP
\fBParameters\fP
.RS 4
\fIC\fP Cluster of nodes 
.RE
.PP
\fBReturns\fP
.RS 4
Variance value 
.RE
.PP

.SS "int compute_cut ()\fR [noexcept]\fP"

.PP
Computes the total cut for current partitions\&. Computes total cut size for current partition\&.

.PP
Cut is defined as the sum of all edge weights from nodes in partition 0 to nodes in partition 1\&.

.PP
\fBReturns\fP
.RS 4
Total cut value 
.RE
.PP

.SS "int compute_DV (const vector< int > & C, int p)\fR [noexcept]\fP"

.PP
Computes D(V) for a cluster\&. D(V) = external_connections - internal_connections

.PP
External connections are edges from this cluster to all clusters in the opposite partition\&. Internal connections are edges from this cluster to other clusters in the same partition\&.

.PP
\fBParameters\fP
.RS 4
\fIC\fP Cluster of nodes 
.br
\fIp\fP Partition index (0 or 1) 
.RE
.PP
\fBReturns\fP
.RS 4
Difference between external and internal connections 
.RE
.PP

.SS "void initial_partition (QString filepath)\fR [noexcept]\fP"

.PP
Initializes the partitions from a CSV adjacency matrix file\&. Initializes partitions from an adjacency matrix file\&.

.PP
Reads a CSV file where each row corresponds to a node and contains edge weights to all other nodes\&. Diagonal elements represent the node itself and are ignored\&. Initializes a simple even-odd partition: nodes 0,2,4,\&.\&.\&. go to partition 0, others to partition 1\&.

.PP
\fBParameters\fP
.RS 4
\fIfilepath\fP Path to the CSV file containing adjacency matrix 
.RE
.PP

.SS "int kl_gain (const vector< int > & A, const vector< int > & B)\fR [noexcept]\fP"

.PP
Computes the KL gain of swapping two clusters\&. Computes KL gain for swapping two clusters\&.

.PP
Gain = D(A) + D(B) - 2 * edge_sum_between_A_B

.PP
\fBParameters\fP
.RS 4
\fIA\fP Cluster from partition 0 
.br
\fIB\fP Cluster from partition 1 
.RE
.PP
\fBReturns\fP
.RS 4
KL gain value
.RE
.PP
Performs one Kernighan–Lin pass

.PP
Swaps cluster pairs between partitions to maximize gain\&. Records the cut evolution in global cut_trace\&.

.PP
Algorithm:
.IP "1." 4
For each unlocked cluster in partition 0, compute gain with each unlocked cluster in partition 1\&.
.IP "2." 4
Select the pair with maximum gain and swap them\&.
.IP "3." 4
Lock the swapped clusters\&.
.IP "4." 4
Repeat until all clusters are locked or no positive gain\&.
.IP "5." 4
Rollback swaps after best prefix sum of gains\&. 
.PP

.SS "void kl_pass ()\fR [noexcept]\fP"

.PP
Performs one pass of the Kernighan–Lin algorithm\&. Selects cluster pairs to swap to maximize gain\&. Records cut evolution in cut_trace\&. 
.SS "void write_metrics (const char * filename)"

.PP
Writes final cut evolution and cluster variances to a file\&. Writes final cut and cluster variances to a file\&.

.PP
Also writes all cut values stored in cut_trace\&.

.PP
\fBParameters\fP
.RS 4
\fIfilename\fP Output file path 
.RE
.PP

.SS "void write_partition (const char * filename)"

.PP
Writes node-to-partition mapping to a file\&. Format: node_index partition_index

.PP
\fBParameters\fP
.RS 4
\fIfilename\fP Output file path 
.RE
.PP

.SS "void write_trace (const char * filename)"

.PP
Writes cut evolution per iteration to CSV\&. Writes cut evolution per iteration to a CSV file\&.

.PP
Format: step,cut_value

.PP
\fBParameters\fP
.RS 4
\fIfilename\fP Output CSV file path 
.RE
.PP

.SH "Author"
.PP 
Generated automatically by Doxygen for Kernighan Lin algorithm (KL) from the source code\&.
